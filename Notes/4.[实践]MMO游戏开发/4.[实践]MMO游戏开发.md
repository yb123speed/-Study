# 4.[实践]MMO游戏开发

## 4.1网络游戏开发的基础流程

## 4.2C/S MMO游戏的发展趋势和对策

C/S MMO特有的游戏内容：

- 处理大量数据
- 向玩家严格保密设定信息
- 严格维护游戏数据的更改内容
- 简单地进行设定信息的更改
- 易于结合SNS等其他服务系统

C/S MMO架构的限制：

- 延迟较大
- 游戏服务器的带宽负荷很高
- 游戏服务器的维护费用很高
- 服务器停止期间，无法进行游戏

## 4.3策划文档和5种设计文档

## 4.4系统基本结构图的制定

### 专栏——MMO客户端特有的渲染性能瓶颈

游戏客户端的瓶颈：游戏处理和渲染处理

渲染的处理速度在不同阶段中有锁不同：

- 从磁盘读取数据至主存中：非常缓慢。所需的时间以毫秒为单位。
- 从主存读取数据至GPU的内存中：较慢。所有的时间以微秒为单位。
- GPU内存内部的传输：非常快。完成时间以纳秒为单位。

因此，在GPU内部进行处理才能达到高速渲染。

一般游戏中的渲染尽可能全都在GPU中加载，之后在游戏过程中，所有内容的读取都尽量不要访问主存和磁盘。这一点是最基本的。

MMO中的渲染——玩家角色

- 不要“一口气读取所有必要的数据”，而是在保持帧速率的情况下花时间一点点读取。
- 即使是在读取纹理数据的过程中，也尽量只先进行轮廓的渲染，只对所处位置有所了解。

### 解决游戏服务器/数据库的瓶颈

解决服务器的瓶颈主要有以下两种方法：

1. 空间分割法（空间地理上的分割）

    根据地理结构将游戏世界进行分割，分割给其他的服务器进程或服务器设备进行处理。

2. 实例法（游戏副本实例）

    将负荷特别高的、用户集中在一起的部分独立出来，将这些部分分配给专用的服务器来处理。这些部分未必都是以游戏副本的形式来呈现，但典型情况下都是使用这种形式的，所以也称为游戏副本实例（instance dungeon）。